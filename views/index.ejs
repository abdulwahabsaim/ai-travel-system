<section class="hero">
    <div class="hero-container">
        <div class="hero-content">
            <h1 class="hero-title">
                Plan Your Perfect Trip with 
                <span class="hero-highlight">AI Intelligence</span>
            </h1>
            <p class="hero-subtitle">
                Get personalized travel itineraries, smart cost predictions, and automated booking management. 
                Let AI be your travel companion.
            </p>
            <div class="hero-actions">
                <% if (!user) { %>
                    <a href="/auth/register" class="btn btn-primary">Get Started Free</a>
                    <a href="/auth/login" class="btn btn-secondary">Sign In</a>
                <% } else { %>
                    <a href="/dashboard" class="btn btn-primary">Go to Dashboard</a>
                    <a href="/itinerary/create" class="btn btn-secondary">Create Itinerary</a>
                <% } %>
            </div>
        </div>
        <div class="hero-visual">
            <div class="hero-card">
                <div class="card-header">
                    <i class="fas fa-route"></i>
                    <h3>AI Travel Planner</h3>
                </div>
                <div class="card-content">
                    <div class="feature-item">
                        <i class="fas fa-brain"></i>
                        <span>Smart Itinerary Generation</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-chart-line"></i>
                        <span>Cost Prediction</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-calendar-check"></i>
                        <span>Automated Booking</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="features">
    <div class="container">
        <h2 class="section-title">Why Choose AI Travel System?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h3>AI-Powered Planning</h3>
                <p>Our intelligent system analyzes your preferences and creates personalized travel itineraries that match your style and budget.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>Smart Cost Predictions</h3>
                <p>Get accurate cost estimates and predictions for flights, hotels, and activities based on real-time data and seasonal trends.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3>Automated Booking</h3>
                <p>Streamline your booking process with automated recommendations and easy-to-use booking management tools.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3>Mobile-Friendly</h3>
                <p>Access your travel plans and bookings from anywhere with our responsive, mobile-optimized interface.</p>
            </div>
        </div>
    </div>
</section>

<section class="ai-demo">
    <div class="container">
        <h2 class="section-title">Try Our AI Travel Planner</h2>
        <div class="demo-container">
            <div class="demo-form">
                <form id="ai-form" class="form">
                    <div class="form-group">
                        <label for="destination">Destination</label>
                        <input type="text" id="destination" name="destination" placeholder="e.g., Paris, Tokyo, New York" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="startDate">Start Date</label>
                            <input type="date" id="startDate" name="startDate" required>
                        </div>
                        <div class="form-group">
                            <label for="endDate">End Date</label>
                            <input type="date" id="endDate" name="endDate" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="budget">Budget (USD)</label>
                            <input type="number" id="budget" name="budget" placeholder="1000" min="100" required>
                        </div>
                        <div class="form-group">
                            <label for="travelStyle">Travel Style</label>
                            <select id="travelStyle" name="travelStyle" required>
                                <option value="budget">Budget</option>
                                <option value="luxury">Luxury</option>
                                <option value="adventure">Adventure</option>
                                <option value="relaxation">Relaxation</option>
                                <option value="cultural">Cultural</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="interests">Interests (optional)</label>
                        <input type="text" id="interests" name="interests" placeholder="e.g., museums, food, nature">
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-magic"></i>
                        Generate AI Itinerary
                    </button>
                </form>
            </div>
            <div class="demo-results" id="demo-results">
                <div class="results-placeholder">
                    <i class="fas fa-route"></i>
                    <h3>Your AI-Generated Itinerary</h3>
                    <p>Fill out the form and click "Generate AI Itinerary" to see your personalized travel plan.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="testimonials">
    <div class="container">
        <h2 class="section-title">What Travelers Say</h2>
        <div class="testimonials-grid">
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"The AI suggestions were spot-on! Saved me hours of research and found amazing hidden gems."</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="author-info">
                        <h4>Sarah Johnson</h4>
                        <span>Paris Adventure</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"Cost predictions were incredibly accurate. Helped me stay within budget while having an amazing trip."</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="author-info">
                        <h4>Mike Chen</h4>
                        <span>Tokyo Explorer</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"The automated booking feature made everything so smooth. No more juggling multiple websites!"</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="author-info">
                        <h4>Emily Rodriguez</h4>
                        <span>New York City Trip</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
document.getElementById('ai-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const data = Object.fromEntries(formData);
    
    try {
        const response = await fetch('/ai/generate-itinerary', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        });
        
        const result = await response.json();
        
        if (result.success) {
            displayItinerary(result.itinerary);
        } else {
            alert('Error generating itinerary. Please try again.');
        }
    } catch (error) {
        console.error('Error:', error);
        alert('Error generating itinerary. Please try again.');
    }
});

function displayItinerary(itinerary) {
    const resultsDiv = document.getElementById('demo-results');
    
    let html = `
        <div class="itinerary-preview">
            <div class="itinerary-header">
                <h3>${itinerary.destination} Adventure</h3>
                <p>${itinerary.days.length} days â€¢ $${itinerary.budget} budget</p>
            </div>
            <div class="itinerary-days">
    `;
    
    itinerary.days.forEach((day, index) => {
        html += `
            <div class="day-card">
                <div class="day-header">
                    <h4>Day ${day.dayNumber}</h4>
                    <span>${new Date(day.date).toLocaleDateString()}</span>
                </div>
                <div class="day-activities">
                    ${day.activities.map(activity => `
                        <div class="activity-item">
                            <span class="activity-time">${activity.time}</span>
                            <span class="activity-name">${activity.activity}</span>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    });
    
    html += `
            </div>
            <div class="itinerary-actions">
                <a href="/auth/register" class="btn btn-primary">Save This Itinerary</a>
            </div>
        </div>
    `;
    
    resultsDiv.innerHTML = html;
}
</script> 