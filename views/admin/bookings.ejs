<div class="container" style="padding: 40px 20px;">
    <div class="page-header">
        <h1>Manage Bookings (<%= bookings.length %>)</h1>
        <a href="/admin" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Back to Admin Dashboard
        </a>
    </div>

    <div class="list-container">
        <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
            <thead style="background: #f8fafc;">
                <tr>
                    <th style="padding: 15px; text-align: left;">Type</th>
                    <th style="padding: 15px; text-align: left;">Provider</th>
                    <th style="padding: 15px; text-align: left;">User</th>
                    <th style="padding: 15px; text-align: left;">Total Price</th>
                    <th style="padding: 15px; text-align: left;">Status</th>
                    <th style="padding: 15px; text-align: left;">Payment</th>
                    <th style="padding: 15px; text-align: left;">Actions</th>
                </tr>
            </thead>
            <tbody>
                <% bookings.forEach(booking => { %>
                    <tr style="border-bottom: 1px solid #e2e8f0;">
                        <td style="padding: 15px;"><%= booking.bookingType.charAt(0).toUpperCase() + booking.bookingType.slice(1) %></td>
                        <td style="padding: 15px;"><%= booking.provider.name %></td>
                        <td style="padding: 15px;"><%= booking.user ? booking.user.email : 'N/A' %></td>
                        <td style="padding: 15px;">$<%= booking.pricing.totalPrice.toFixed(2) %></td>
                        <td style="padding: 15px;">
                            <span class="status-badge status-<%= booking.status %>"><%= booking.status %></span>
                        </td>
                        <td style="padding: 15px;">
                            <span class="status-badge status-<%= booking.paymentStatus === 'paid' ? 'confirmed' : (booking.paymentStatus === 'refunded' ? 'cancelled' : 'pending') %>">
                                <%= booking.paymentStatus %>
                            </span>
                        </td>
                        <td style="padding: 15px;">
                             <a href="/booking/<%= booking._id %>" class="btn btn-sm btn-outline" title="View Booking">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>